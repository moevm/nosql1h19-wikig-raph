(function(t){"use strict";if("undefined"==typeof sigma)throw"sigma is not declared";sigma.utils.pkg("sigma.misc"),sigma.misc.bindDOMEvents=function(t){var n=this,a=this.graph;function d(e){this.attr=function(t){return e.getAttributeNS(null,t)},this.tag=e.tagName,this.class=this.attr("class"),this.id=this.attr("id"),this.isNode=function(){return!!~this.class.indexOf(n.settings("classPrefix")+"-node")},this.isEdge=function(){return!!~this.class.indexOf(n.settings("classPrefix")+"-edge")},this.isHover=function(){return!!~this.class.indexOf(n.settings("classPrefix")+"-hover")}}function e(t){if(n.settings("eventsEnabled")){n.dispatchEvent("click",t);var e=new d(t.target);e.isNode()?n.dispatchEvent("clickNode",{node:a.nodes(e.attr("data-node-id"))}):n.dispatchEvent("clickStage"),t.preventDefault(),t.stopPropagation()}}function i(t){if(n.settings("eventsEnabled")){n.dispatchEvent("doubleClick",t);var e=new d(t.target);e.isNode()?n.dispatchEvent("doubleClickNode",{node:a.nodes(e.attr("data-node-id"))}):n.dispatchEvent("doubleClickStage"),t.preventDefault(),t.stopPropagation()}}t.addEventListener("click",e,!1),sigma.utils.doubleClick(t,"click",i),t.addEventListener("touchstart",e,!1),sigma.utils.doubleClick(t,"touchstart",i),t.addEventListener("mouseover",function(t){var e=t.toElement||t.target;if(n.settings("eventsEnabled")&&e){var i=new d(e);if(i.isNode())n.dispatchEvent("overNode",{node:a.nodes(i.attr("data-node-id"))});else if(i.isEdge()){var s=a.edges(i.attr("data-edge-id"));n.dispatchEvent("overEdge",{edge:s,source:a.nodes(s.source),target:a.nodes(s.target)})}}},!0),t.addEventListener("mouseout",function(t){var e=t.fromElement||t.originalTarget;if(n.settings("eventsEnabled")){var i=new d(e);if(i.isNode())n.dispatchEvent("outNode",{node:a.nodes(i.attr("data-node-id"))});else if(i.isEdge()){var s=a.edges(i.attr("data-edge-id"));n.dispatchEvent("outEdge",{edge:s,source:a.nodes(s.source),target:a.nodes(s.target)})}}},!0)}}).call(this);